{% extends 'Organizations/palliative_base.html' %}
{% load static %}

{% block title %}Palliative Organization Dashboard{% endblock %}

{% block content %}
<h2 class="dashboard-title">Palliative Organization Dashboard</h2>

<div class="stats-container">
    <div class="stat-box">
        <h5><i class="bi bi-box-seam"></i> Available Equipment</h5>
        <p>{{ available_equipment_count }}</p>
    </div>
    <div class="stat-box">
        <h5><i class="bi bi-cart-check"></i> Active Rentals</h5>
        <p>{{ active_rentals_count }}</p>
    </div>
    <div class="stat-box">
        <h5><i class="bi bi-people"></i> Total Staff</h5>
        <p>{{ total_staff_count }}</p>
    </div>
    <div class="stat-box">
        <h5><i class="bi bi-person-check"></i> Assigned Patients</h5>
        <p>{{ assigned_patients_count }}</p>
    </div>
    <div class="stat-box">
        <h5><i class="bi bi-clipboard-data"></i> Pending Requests</h5>
        <p>{{ pending_requests_count }}</p>
    </div>
    <div class="stat-box">
        <h5><i class="bi bi-people-fill"></i> Active Teams</h5>
        <p>{{ active_teams_count }}</p>
    </div>
</div>

<div class="dashboard-section">
    <div class="section-header">
        <h3 class="section-title">Recent Patient Assignments</h3>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>Patient</th>
                    <th>Assigned To</th>
                    <th>Date Assigned</th>
                </tr>
            </thead>
            <tbody id="recent-assignments-body">
                {% include "Organizations/recent_assignments_partial.html" %}
            </tbody>
        </table>
    </div>
</div>

<div class="dashboard-section">
    <div class="section-header">
        <h3 class="section-title">Upcoming Team Visits</h3>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>Team</th>
                    <th>Patient</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="upcoming-team-visits-body">
                {% include "Organizations/upcoming_team_visits_partial.html" %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
    $(document).ready(function() {
        // Your dashboard specific JavaScript
    });
</script>
{% endblock %}